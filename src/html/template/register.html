<div class="register-wrapper" data-ng-click="register.stopEvent($event)">
  <table class="control">
    <tbody data-ng-if="!register.editMode" data-ng-include="'register-amount-new.html'">
    </tbody>

    <tbody data-ng-if="register.editMode"  data-ng-include="'register-amount-edit.html'">
    </tbody>
  </table>

  <div data-ng-class="{ 'faded' : register.editMode }">
    <div class="text-content" data-ng-if="!register.transactions.length">
      <p>No transactions registered for this interval.</p>
    </div>

    <table class="items transactions" data-ng-if="register.transactions.length">
      <tbody>
        <tr
          data-ng-class="{ 'selected' : transaction === register.selectedItem }"
          data-ng-repeat="transaction in register.transactions | orderBy : 'timestamp' : true"
          data-ng-click="register.selectItem($event, transaction)">
          <td
            data-amount-bubble=""
            data-amount="transaction.amount"
            data-expense="transaction.expense"
            class="text-right amount-cell">
          </td>
          <td
            data-category-bubble=""
            data-timestamp="transaction.timestamp"
            data-icon="transaction.category.icon"
            class="text-right date-cell">
          </td>
        </tr>
      </tbody>
    </table>

    <div>
      <button
        class="toggle-balance submit-wide"
        data-ng-disabled="register.editMode"
        data-ng-class="{ 'faded' : !register.balanceMode }"
        data-ng-click="register.toggleBalanceMode($event)">
        <i class="fa fa-balance-scale"></i>
        Edit monthly starting balance
      </button>
    </div>

    <div class="text-content" data-ng-if="!register.balances.length">
      <p>No balances registered for this interval.</p>
    </div>

    <table class="items balances" data-ng-if="register.balances.length">
      <tbody>
        <tr
          data-ng-class="{ 'selected' : balance === register.selectedItem }"
          data-ng-repeat="balance in register.balances"
          data-ng-click="register.selectItem($event, balance)">
          <td
            data-amount-bubble=""
            data-amount="balance.amount"
            data-expense="balance.expense"
            class="text-right amount-cell date-cell">
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
